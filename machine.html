<!DOCTYPE html>
<html>
<head>
  <title>Receiver (Machine)</title>
</head>
<body style="background:black;color:white;text-align:center;padding-top:50px;">
  <h1>üßæ Machine (Receiver)</h1>
  <p>Enter Amount:</p>
  <input id="amount" type="number" value="100" /><br><br>
  <button onclick="writeToNFC()">üí≥ Write ‚Çπ to NFC</button>
  <p id="status"></p>

  <script>
    async function writeToNFC() {
      const amount = document.getElementById("amount").value;
      const data = JSON.stringify({ amount: amount, receiverId: "receiver1" });

      try {
        const writer = new NDEFWriter();
        await writer.write({ records: [{ recordType: "text", data }] });
        document.getElementById("status").innerText = `‚úÖ ‚Çπ${amount} ready to collect`;
      } catch (e) {
        document.getElementById("status").innerText = "‚ùå NFC write failed: " + e;
      }
    }
  </script>
</body>
</html>
